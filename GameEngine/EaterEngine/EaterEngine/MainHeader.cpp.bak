#include "MainHeader.h"
#include "GameEngine.h"
#include "PhysManager.h"
#include "DebugManager.h"
#include "PhysData.h"

GameEngine* gGameEngine = nullptr;

///엔진 관련
void EngineInitialize(HWND _g_hWnd)
{
	gGameEngine = new GameEngine();
	gGameEngine->Initialize(_g_hWnd);
	gGameEngine->Start();
}

void EndEngine()
{
	//gDebugManger->Delete();
}

void UpdateEngine()
{
	gGameEngine->Update();
}

void OnReSize(int X, int Y)
{
	//처음 시작 상태가 아닐때
	if (gGameEngine != nullptr)
	{
		gGameEngine->OnResize(X, Y);
	}
}

///오브젝트 관련
 GameObject* Instance(std::string ObjName)
{
	return gGameEngine->Instance(ObjName);
}

 GameObject* InstanceTerrain(std::string ObjName)
 {
	 return gGameEngine->InstanceTerrain(ObjName);
 }

 GameObject* InstanceParticle(std::string ObjName)
 {
	 return gGameEngine->InstanceParticle(ObjName);
 }

 GameObject* InstanceCamera(std::string ObjName)
 {
	 return gGameEngine->InstanceCamera(ObjName);
 }

 GameObject* InstanceLight(std::string ObjName, LIGHT_TYPE type)
 {
	 return gGameEngine->InstanceLight(ObjName, type);
 }

 GameObject* FindGameObjectTag(std::string TagName)
 {
	 return gGameEngine->FindGameObjectTag(TagName);
 }

 GameObject* FindGameObjectName(std::string ObjectName)
 {
	 return gGameEngine->FindGameObjectName(ObjectName);
 }

 void Destroy(GameObject* obj)
{
	gGameEngine->Destroy(obj);
}

///씬 관련
 void ChoiceScene(std::string name)
{
	gGameEngine->ChoiceScene(name);
}

 void CreateSceneSub(Scene* mSceneTemp, std::string SceneName)
{
	gGameEngine->PushScene(mSceneTemp, SceneName);
}

 void LoadMesh(std::string mMeshName, UINT parsingMode)
{
	gGameEngine->LoadMesh(mMeshName, parsingMode);
}

 void LoadTerrainMesh(std::string mMeshName, std::string maskName, UINT parsingMode)
 {
	 gGameEngine->LoadTerrain(mMeshName, maskName, parsingMode);
 }

///로드 관련
 void LoadMeshPath(std::string mPath)
{
	gGameEngine->LoadMeshPath(mPath);
}

 void LoadTexture(std::string mPath)
{
	gGameEngine->LoadTexture(mPath);
}

 void LoadTexturePath(std::string mPath)
{
	gGameEngine->LoadTexturePath(mPath);
}

  void LoadTextureFile(std::string mPath)
  {
	   gGameEngine->LoadTextureFile(mPath);
  }

  void LoadMeshFile(std::string mPath,UINT parsingMode)
  {
	  gGameEngine->LoadMeshFile(mPath, parsingMode);
  }

<<<<<<< HEAD
  void LoadUnityFile(std::string mPath)
  {
	  gGameEngine->LoadUnityFile(mPath);
  }

  void LoadEaterFile(std::string mPath)
  {

=======
  void LoadEnvironment(std::string mPath)
  {
	  gGameEngine->LoadEnvironment(mPath);
  }

  void SetEnvironment(bool enable)
  {
	  gGameEngine->SetEnvironment(enable);
>>>>>>> main
  }

///키관련
 bool GetKeyDown(byte number)
{
	return gGameEngine->GetKeyDown(number);
}

 bool GetKeyUp(byte number)
{
	return gGameEngine->GetKeyUp(number);
}

 bool GetKey(byte number)
{
	return gGameEngine->GetKey(number);
}

 bool GetTogle(byte number)
{
	return gGameEngine->GetTogle(number);
}

 float GetMousePosX()
{
	return gGameEngine->GetMousePosX();
}

 float GetMousePosY()
{
	return gGameEngine->GetMousePosY();
}

  void SetMousePos(float x, float y)
 {
	  gGameEngine->SetMousePos(x, y);
 }

  void SetMousePosCenter()
  {
	  gGameEngine->SetMousePosCenter();
  }

 void ShowMouseCursor(bool Cursor)
 {
	 gGameEngine->ShowMouseCursor(Cursor);
 }

 void MouseCursorClip(bool Clip)
 {
	 gGameEngine->MouseCursorClip(Clip);
 }

  GameObject* GetMainCamera()
 {
	 return gGameEngine->GetMainCamera();
 }

 /// 시간 관련
 float GetDeltaTime()
 {
	 return gGameEngine->GetdeltaTime();
 }

 bool RayCast(PhysRayCast* ray)
 {
	 return PhysManager::RayCast(ray);
 }

 void DebugDrawLine(Vector3 start, Vector3 end, Vector4 color)
 {
	 gGameEngine->DebugDrawLine(start, end, color);
 }

 void DebugDrawLine(Vector3 start, Vector3 dir, float distance, Vector4 color)
 {
	 gGameEngine->DebugDrawLine(start, dir, distance, color);
 }

  void DebugPrint(std::string str)
 {
	  DebugManager::Print(str);
 }

 void Network_SetManager(NetworkManagerComponent* Manager)
 {
	 gGameEngine->SetNetworkManager(Manager);
 }

 void Network_Send(flatbuffers::FlatBufferBuilder* Builder , int Type)
 {
	 gGameEngine->NETWORK_SEND(Builder, Type);
 }

 void Network_Loading_complete(unsigned int Number)
 {
	 gGameEngine->NETWORK_LOADING_COMPLETE(Number);
 }

 void Network_Connect(int ServerPort, std::string  Local_Connect_IP)
 {
	 gGameEngine->NETWORK_CONNECT(ServerPort, Local_Connect_IP);
 }
