#include "Define_Header.hlsli"

//--------------------------------------------------------------------------------------
// Packs a float2 to a unit
//--------------------------------------------------------------------------------------
uint Float2ToUint(float2 f2Value)
{
    return ((((uint) (f2Value.y * 65535.0f)) << 16) |
                 ((uint) (f2Value.x * 65535.0f)));
}


//--------------------------------------------------------------------------------------
// Unpacks a uint to a float2
//--------------------------------------------------------------------------------------
float2 UintToFloat2(uint uValue)
{
    return float2((uValue & 0x0000FFFF) / 65535.0f,
                      ((uValue & 0xFFFF0000) >> 16) / 65535.0f);
}

//--------------------------------------------------------------------------------------
// Packs a float4 to a unit
//--------------------------------------------------------------------------------------
uint Float4ToUint(float4 f4Value)
{
    return ((((uint) (f4Value.w * 255.0f)) << 24) |
                (((uint) (f4Value.z * 255.0f)) << 16) |
                (((uint) (f4Value.y * 255.0f)) << 8) |
                ((uint) (f4Value.x * 255.0f)));
}


//--------------------------------------------------------------------------------------
// Unpacks a uint to a float4
//--------------------------------------------------------------------------------------
float4 UintToFloat4(uint uValue)
{
    return float4((uValue & 0x000000FF) / 255.0f,
                    ((uValue & 0x0000FF00) >> 8) / 255.0f,
                    ((uValue & 0x00FF0000) >> 16) / 255.0f,
                    ((uValue & 0xFF000000) >> 24) / 255.0f);
}


//--------------------------------------------------------------------------------------
// Packs a float3 to a unit
//--------------------------------------------------------------------------------------
uint Float3ToUint(float3 f3Value)
{
    return ((((uint) (f3Value.z * 255.0f)) << 16) |
                (((uint) (f3Value.y * 255.0f)) << 8) |
                ((uint) (f3Value.x * 255.0f)));
}


//--------------------------------------------------------------------------------------
// Unpacks a uint to a float3
//--------------------------------------------------------------------------------------
float3 UintToFloat3(uint uValue)
{
    return float3((uValue & 0x000000FF) / 255.0f,
                    ((uValue & 0x0000FF00) >> 8) / 255.0f,
                    ((uValue & 0x00FF0000) >> 16) / 255.0f);
}